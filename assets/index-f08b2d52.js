import{o as J,c as M,b as K,a as i,_ as S,f as C,g as b,i as o,A as Q,e as W,I as E,a6 as X,n as p,t as d,Z as ee,Y as te,u as z,h as w,s as I,$ as se,m as le,j as ne}from"./index-00bf0c33.js";import{D as ae}from"./index-112bc2d3.js";import{B as T}from"./index-345cd19e.js";const oe=d("<div>"),ce=d('<span class="cm-modal-close">'),ie=d('<div class="cm-modal-footer">'),re=d('<div><div class="cm-modal-header"></div><div class="cm-modal-body">'),de=d('<div tabindex="1">'),ue=d('<div class="cm-modal-title">'),me=d('<div class="cm-modal-left"><div class="cm-modal-icon">'),fe=d('<div class="cm-modal-right">');function $e(t){let r,e,a;const[m,f]=J(t,"visible",!1),[v,c]=M(!1),k=()=>ne(t,"cm-modal"),h=ee(),L=()=>({"cm-modal-wrap":!0,"cm-modal-visible":m(),"cm-modal-fullscreen":t.fullScreen}),O=()=>({"cm-modal-mask":!0,"cm-modal-mask-visible":m()}),A=()=>{t.onClickClose&&t.onClickClose(),y()},y=()=>{t.onClosed&&t.onClosed(),f(!1)},B=()=>{y(),t.onCancel&&t.onCancel()},D=()=>{if(t.onOk&&t.onOk(),t.loading){v()||c(!0);return}y()};K(()=>{m()?(r&&setTimeout(()=>{r.focus()},300),Z&&a&&a.reset()):c(!1)});const F=s=>{Y&&s.target===e&&f(!1)},V=s=>{s.keyCode===27&&f(!1)},x="cm-modal-portal",j=t.footer??!0,q=t.hasCloseIcon??!0,g=te(),N=t.okText||"确 定",R=t.cancleText||"取 消",U=t.mask??!0,Y=t.maskClosable??!0,Z=t.resetPostion??!1;return i(X,{get mount(){return S(x,x)},get children(){return[i(C,{when:U,get children(){const s=oe(),$=e;return typeof $=="function"?z($,s):e=s,s.$$click=F,h-1!=null?s.style.setProperty("z-index",h-1):s.style.removeProperty("z-index"),b(n=>w(s,O(),n)),s}}),(()=>{const s=de();s.$$keydown=V;const $=r;return typeof $=="function"?z($,s):r=s,h!=null?s.style.setProperty("z-index",h):s.style.removeProperty("z-index"),o(s,i(ae,{ref(n){const u=a;typeof u=="function"?u(n):a=n},get bounds(){return t.bounds||"body"},get style(){return t.defaultPosition},handle:'.cm-modal-header[data-id="'+g+'"]',get disabled(){return t.disabled},get children(){const n=re(),u=n.firstChild,P=u.nextSibling;return Q(u,"data-id",`${g}`),o(u,(()=>{const l=W(()=>!!t.title);return()=>l()?(()=>{const _=ue();return o(_,()=>t.title),_})():null})(),null),o(u,i(C,{when:q,get children(){const l=ce();return l.$$click=A,o(l,i(E,{name:"x"})),l}}),null),o(P,()=>t.children),o(n,i(C,{when:j,get children(){const l=ie();return o(l,i(T,{type:"primary",get loading(){return v()},onClick:D,children:N}),null),o(l,i(T,{type:"default",className:"mr-10",onClick:B,children:R}),null),l}}),null),b(l=>{const _=k(),G=t.style,H=t.bodyStyle;return l._v$=w(n,_,l._v$),l._v$2=I(n,G,l._v$2),l._v$3=I(P,H,l._v$3),l},{_v$:void 0,_v$2:void 0,_v$3:void 0}),n}})),b(n=>w(s,L(),n)),s})()]}})}function ve(){const[t,r]=M(!0);return{open(e){r(!0);let a="";e.status==="success"&&(a="check-circle"),e.status==="info"&&(a="info"),e.status==="warning"&&(a="alert-circle"),e.status==="error"&&(a="x-circle"),e.status==="confirm"&&(a="help-circle");const m=c=>{r(c),setTimeout(()=>{v?.()},250)};e.style={"min-width":"24vw",...e.style},e.visible=[t,m],e.defaultPosition={top:"200px",...e.defaultPosition};const f=S("cm-modal-portal-instance","cm-modal-portal"),v=se(()=>i($e,le(e,{class:"cm-modal-instance",get children(){return[(()=>{const c=me(),k=c.firstChild;return o(k,i(E,{name:a,size:24})),c})(),(()=>{const c=fe();return o(c,()=>e.content),c})()]}})),f)},success(e){return e.status="success",this.open(e)},info(e){return e.status="info",this.open(e)},warning(e){return e.status="warning",this.open(e)},error(e){return e.status="error",this.open(e)},confirm(e){return e.status="confirm",this.open(e)},remove(){r(!1),setTimeout(()=>{},250)}}}const ye=ve();p(["click","keydown"]);export{$e as M,ye as m};
