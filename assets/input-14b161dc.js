import{z as K,i as r,e as u,g as d,s as g,a0 as b,m as z,a as D,I as U,h as E,t as o,j as k,u as L}from"./index-00bf0c33.js";import{c as B}from"./createField-b596c149.js";const P=o('<div><input class="cm-input">'),j=o('<div class="cm-input-prefix">'),F=o('<div class="cm-input-group-prepend">'),M=o('<div class="cm-input-suffix">'),N=o('<div class="cm-input-group-append">');function q(l){const x=()=>k(l,"cm-input-wrapper",{"cm-input-disabled":l.disabled,"cm-input-hidden":l.type==="hidden",[`cm-input-${l.size}`]:l.size,"cm-input-group-with-prefix":l.prefix,"cm-input-group-with-suffix":l.suffix,"cm-input-group-with-append":l.append,"cm-input-group-with-prepend":l.prepend}),[e,_]=K(l,["classList","class","name","style","disabled","size","type","append","prepend","prefix","suffix","suffixStyle","prefixStyle","clearable","value","onChange","onEnter","onKeyDown","onKeyUp","onInput","trigger"]);let y;const p={};e.suffixStyle&&e.suffixStyle.width&&(p["padding-right"]=e.suffixStyle.width+"px"),e.prefixStyle&&e.prefixStyle.width&&(p["padding-left"]=e.prefixStyle.width+"px");const[f,c]=B(l,""),m=e.trigger||"blur",v=n=>{m==="input"&&(e.onChange&&e.onChange(n.target.value),c(n.target.value)),e.onInput&&e.onInput(n.target.value,n)},$=n=>{},C=n=>{const s=n.target.value;m==="blur"&&e.onChange&&e.onChange(s),c(s)},w=()=>{e.onChange&&e.onChange(""),c("")},S=n=>{n.keyCode===13&&e.onEnter&&e.onEnter(f()),e.onKeyUp&&e.onKeyUp(n)},I=n=>{n.keyCode===13&&(c(n.target.value),e.onChange&&e.onChange(n.target.value)),e.onKeyDown&&e.onKeyDown(n)};return(()=>{const n=P(),s=n.firstChild;r(n,(()=>{const t=u(()=>!!e.prefix);return()=>t()?(()=>{const i=j();return r(i,()=>e.prefix),d(a=>g(i,e.prefixStyle,a)),i})():null})(),s),r(n,(()=>{const t=u(()=>!!e.prepend);return()=>t()?(()=>{const i=F();return r(i,()=>e.prepend),i})():null})(),s);const h=y;return typeof h=="function"?L(h,s):y=s,b(s,z(_,{get value(){return f()},onChange:$,onInput:v,onBlur:C,get disabled(){return e.disabled},style:p,onKeyDown:I,onKeyUp:S,get type(){return e.type}}),!1,!1),r(n,(()=>{const t=u(()=>!!(e.clearable&&f()));return()=>t()?D(U,{class:"cm-input-clear",name:"x-circle",onClick:w}):null})(),null),r(n,(()=>{const t=u(()=>!!e.suffix);return()=>t()?(()=>{const i=M();return r(i,()=>e.suffix),d(a=>g(i,e.suffixStyle,a)),i})():null})(),null),r(n,(()=>{const t=u(()=>!!e.append);return()=>t()?(()=>{const i=N();return r(i,()=>e.append),i})():null})(),null),d(t=>{const i=x(),a=e.style;return t._v$=E(n,i,t._v$),t._v$2=g(n,a,t._v$2),t},{_v$:void 0,_v$2:void 0}),n})()}export{q as I};
