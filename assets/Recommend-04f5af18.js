import{n as O,a as f,u as J,i as M,e as Q,g as B,h as X,s as Z,f as F,t as R,b as K,F as ee,I as j,c as G,m as I,z as le,Q as fe,r as Be,D as Ce,O as ze,N as W,p as Te,q as Ye,j as Ae,A as Ie,v as ve}from"./index-00bf0c33.js";import{V as He}from"./Value-1107dbb2.js";import{d as D}from"./dayjs.min-ea173184.js";import{c as Fe}from"./createField-b596c149.js";import{B as Ne}from"./index-345cd19e.js";const Ve=R("<li>");function pt(e){const t=()=>({"cm-select-option":!0,"cm-select-group-wrap":e.data.group,"cm-select-option-active":e.checked,"cm-select-option-disabled":e.data.disabled}),n=()=>{e.disabled||e.onClick&&e.onClick(r)},r=e.data[e.valueField];return f(F,{get when(){return e.visible},fallback:null,get children(){const a=Ve();a.$$click=n;const i=e.ref;return typeof i=="function"?J(i,a):e.ref=a,M(a,(()=>{const c=Q(()=>!!e.renderOption);return()=>c()?e.renderOption(e.data):e.data[e.textField]})()),B(c=>{const s=t(),o=e.style;return c._v$=X(a,s,c._v$),c._v$2=Z(a,o,c._v$2),c},{_v$:void 0,_v$2:void 0}),a}})}O(["click"]);const je=R("<li>");function en(e){const t=()=>({"cm-select-option":!0,"cm-select-option-active":e.checked}),n=e.data.value;return(()=>{const r=je();return r.$$click=()=>e.onClick&&e.onClick(n),M(r,()=>e.data.label),B(a=>{const i=t(),c=e.style;return a._v$=X(r,i,a._v$),a._v$2=Z(r,c,a._v$2),a},{_v$:void 0,_v$2:void 0}),r})()}O(["click"]);const Ge=R("<div><em>");function _e(e,t){if(!t)return!1;const n=ae(new Date(e[0])),r=ae(new Date(e[1]));return n?e.length===1&&n.getTime()===t.getTime()||e.length===2&&n.getTime()<=t.getTime()&&r.getTime()>=t.getTime():!1}function Me(e,t){return""+e.getFullYear()+e.getMonth()+e.getDate()==""+t.getFullYear()+t.getMonth()+t.getDate()}function qe(e,t){return""+e.getFullYear()+e.getMonth()==""+t.getFullYear()+t.getMonth()}function Ue(e){const t=te(),n=ae(new Date),r=e.day?n.toLocaleDateString()===e.day.toLocaleDateString():!1,a=()=>e.type==="dateRange"||e.type==="dateTimeRange"?!1:e.value&&e.value instanceof Date&&e.day?e.value.toLocaleDateString()===e.day.toLocaleDateString():!1;let i=e.day&&t&&t.disabledDate&&t.disabledDate(e.day);e.month&&e.day&&qe(e.month,e.day)||(i=!0);const c=()=>e.range&&e.day?_e(e.range,e.day):!1,s=()=>e.range&&e.range[0]&&e.day&&Me(e.range[0],e.day),o=()=>e.range&&e.range[1]&&e.day&&Me(e.range[1],e.day),u=()=>{const _=e.range&&e.range.length===1&&e.hoverDate?[e.hoverDate,e.range[0]]:[];return _.length===2&&_.sort((w,m)=>w.getTime()-m.getTime()),_&&e.day?_e(_,e.day):!1},h=()=>({"cm-date-picker-day":!0,"cm-date-picker-empty":!e.day,"cm-date-picker-today":r,"cm-date-picker-active":a(),"cm-date-picker-inrange":!i&&c(),"cm-date-picker-inhover":!i&&u(),"cm-date-picker-first-range":s(),"cm-date-picker-last-range":o(),"cm-date-picker-day-disabled":i}),l=()=>{e.day&&t&&t.onSelectDate(e.day,e.name)},g=()=>{e.day&&t&&t.onMouseOver(e.day)};return(()=>{const _=Ge(),w=_.firstChild;return _.$$mouseover=g,_.$$click=l,M(w,(()=>{const m=Q(()=>!!e.day);return()=>m()?e.day.getDate():""})()),B(m=>X(_,h(),m)),_})()}O(["click","mouseover"]);const Xe=R('<div class="cm-month-picker-cell"><ul>'),We=R("<li>");function ye(e){const t=te(),n=(a,i)=>{i||e.onSelect&&e.onSelect(e.type,a)};let r;return K(()=>{if(r&&t?.visible()){const a=e.data[0],i=e.value?e.value:e.type==="year"?new Date().getFullYear():new Date().getMonth()+1;r.scrollTop=26*(i-a)}}),(()=>{const a=Xe(),i=a.firstChild,c=r;return typeof c=="function"?J(c,a):r=a,M(i,f(ee,{get each(){return e.data},children:s=>{let o=()=>{let h=!1,l=new Date(e.day);return e.type==="year"&&(l.setFullYear(s),l.setMonth(1),l.setDate(1),h=t&&t.disabledDate&&t.disabledDate(l)),e.type==="month"&&(l.setMonth(s-1),h=t&&t.disabledDate&&t.disabledDate(l)),h};const u=()=>({"cm-month-picker-item":!0,"cm-month-picker-item-active":e.value===s,"cm-month-picker-item-disabled":o()});return(()=>{const h=We();return h.$$click=()=>{n(s,o())},M(h,s),B(l=>X(h,u(),l)),h})()}})),a})()}O(["click"]);const Qe=R('<div class="cm-date-picker-month-header">'),Ze=R('<div class="cm-date-picker-month"><div class="cm-date-picker-month-body">');function re(e){const[t,n]=e.store,r=te(),a=()=>{if(e.type==="date"||e.type==="dateRange"||e.type==="dateTime"||e.type==="dateTimeRange"){const h=e.name==="end"?1:0;return t.currentMonth[h]&&t.currentMonth[h].getFullYear&&t.currentMonth[h].getFullYear()}else return e.value&&e.value.getFullYear&&e.value.getFullYear()},i=()=>{const h=[];let l=new Date().getFullYear();l=l-60;for(let g=0;g<100;g++)h.push(l+g);return h},c=()=>[1,2,3,4,5,6,7,8,9,10,11,12].concat([]),s=()=>{if(e.type==="date"||e.type==="dateRange"||e.type==="dateTime"||e.type==="dateTimeRange"){const h=e.name==="end"?1:0;return t.currentMonth[h]&&t.currentMonth[h].getMonth&&t.currentMonth[h].getMonth()+1}else return e.value&&e.value.getMonth&&e.value.getMonth()+1},o=(h,l)=>{const g=e.name==="end"?1:0,_=new Date(t.currentMonth[g]);if(h==="year"&&_.setFullYear(l),h==="month"&&_.setMonth(l-1),e.onMonthChange){e.onMonthChange(_,h,e.name);return}n("currentMonth",e.name==="end"?[t.currentMonth[0],_]:[_,t.currentMonth[1]]),e.type!=="dateRange"&&e.type!=="date"&&r&&r.onSelectDate&&r.onSelectDate(_,e.name)},u=()=>{e.onBack&&e.onBack()};return(()=>{const h=Ze(),l=h.firstChild;return M(h,f(F,{get when(){return e.type==="date"||e.type==="dateRange"||e.type==="dateTime"||e.type==="dateTimeRange"},get children(){const g=Qe();return M(g,f(Ne,{type:"text",onClick:u,ghost:!0,get icon(){return f(j,{name:"chevron-left",size:16})},children:"返回选择日期"})),g}}),l),M(l,f(ye,{get data(){return i()},get value(){return a()},get day(){return t.currentMonth[0]},type:"year",onSelect:o}),null),M(l,f(ye,{get data(){return c()},get value(){return s()},get day(){return t.currentMonth[0]},type:"month",onSelect:o}),null),h})()}const Je=R('<div class="cm-date-picker-date-inner"><div class="cm-date-picker-date-header"><div class="cm-date-picker-header-arrow"></div><div class="cm-date-picker-header-arrow"></div><span class="cm-date-picker-date-info"></span><div class="cm-date-picker-header-arrow"></div><div class="cm-date-picker-header-arrow"></div></div><div class="cm-date-picker-date-body"><div class="cm-date-picker-week-line"></div><div class="cm-date-picker-date-days"></div></div><div class="cm-date-picker-date-footer">'),Ke=R('<div class="cm-date-picker-date">'),pe=R("<div>"),et=["日","一","二","三","四","五","六"];function ae(e){return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}const ne=(e,t,n,r,a,i)=>{const c=e.currentMonth[r==="end"?1:0];c[`set${n}`](c[`get${n}`]()+1*a);const s=[...e.currentMonth];if(i){const o=s[r==="end"?0:1];o[`set${n}`](o[`get${n}`]()+1*a)}else if(D(s[0]).format("YYYY-MM")===D(s[1]).format("YYYY-MM")||s[0].getTime()>s[1].getTime()){const o=s[r==="end"?0:1];o[`set${n}`](o[`get${n}`]()+1*a)}t("currentMonth",s)};function ie(e){const[t,n]=e.store;e.type;const[r,a]=G("date"),i=()=>{ne(t,n,"Month",e.name,1,e.stick)},c=()=>{ne(t,n,"Month",e.name,-1,e.stick)},s=()=>{ne(t,n,"FullYear",e.name,-1,e.stick)},o=()=>{ne(t,n,"FullYear",e.name,1,e.stick)},u=()=>{a("month")},h=()=>{a("date")},l=(w,m,S)=>{const H=t.currentMonth[S==="end"?1:0];H.setFullYear(w.getFullYear()),H.setMonth(w.getMonth());const k=[...t.currentMonth],T=m==="year"?"FullYear":"Month";if(e.stick){const x=new Date(H);x.setMonth(x.getMonth()+1*(S==="end"?-1:1)),k[S==="end"?0:1]=x}else if(D(k[0]).format("YYYY-MM")===D(k[1]).format("YYYY-MM")||k[0].getTime()>k[1].getTime()){const x=k[S==="end"?0:1];x[`set${T}`](x[`get${T}`]()+1*(S==="end"?-1:1))}n("currentMonth",k)},g=()=>{const w=[],m=ae(new Date(t.currentMonth[e.name==="end"?1:0]));m.setDate(1);const S=new Date(m);S.setMonth(S.getMonth()+1),S.setDate(0);const H=m.getDay()%7;let k=new Date(m);k.setDate(k.getDate()-H-1);for(let x=0;x<H;x++)w.push(new Date(k.setDate(k.getDate()+1)));m.setDate(0);for(let x=0;x<S.getDate();x++)w.push(new Date(m.setDate(m.getDate()+1)));let T=w[w.length-1];T=new Date(T);for(let x=0,A=42-w.length;x<A;x++)w.push(new Date(T.setDate(T.getDate()+1)));return w},_=()=>D(t.currentMonth[e.name==="end"?1:0]).format("YYYY年MM月");return(()=>{const w=Ke();return M(w,f(F,{get when(){return r()==="date"},get children(){const m=Je(),S=m.firstChild,H=S.firstChild,k=H.nextSibling,T=k.nextSibling,x=T.nextSibling,A=x.nextSibling,ue=S.nextSibling,d=ue.firstChild,y=d.nextSibling;return M(H,f(j,{name:"chevrons-left",onClick:s})),M(k,f(j,{name:"chevron-left",onClick:c})),T.$$click=u,M(T,_),M(x,f(j,{name:"chevron-right",onClick:i})),M(A,f(j,{name:"chevrons-right",onClick:o})),M(d,f(ee,{each:et,children:v=>(()=>{const $=pe();return M($,v),$})()})),M(y,f(ee,{get each(){return g()},children:v=>f(Ue,{get range(){return t.range},get hoverDate(){return t.hoverDate},get type(){return e.type},day:v,get value(){return e.value},get name(){return e.name},get month(){return t.currentMonth[e.name==="end"?1:0]}})})),m}}),null),M(w,f(F,{get when(){return r()==="month"},get children(){return f(re,I(e,{onBack:h,onMonthChange:l}))}}),null),w})()}O(["click"]);function tt(e){const[t,n]=le(e,["value"]),r=()=>t.value?t.value[0]:"",a=()=>t.value?t.value[1]:"";return[f(re,I({name:"start"},n,{get value(){return r()}})),f(re,I({name:"end"},n,{get value(){return a()}}))]}function nt(e){const[t,n]=le(e,["value"]),r=()=>t.value[0],a=()=>t.value[1];return[f(ie,I({name:"start",get value(){return r()}},n)),f(ie,I({name:"end",get value(){return a()}},n))]}const rt=R('<div class="cm-date-picker-datetime"><div class="cm-datetime-content"></div><div class="cm-datetime-switch"><div class="cm-datetime-switch-item"></div><div class="cm-datetime-switch-item">');function ge(e){const[t,n]=G("date"),r=te(),a=()=>e.store[0].currentMonth[e.name==="end"?1:0],i=()=>D(e.value||new Date).format("YYYY-MM-DD"),c=()=>D(a()).format("HH:mm:ss"),s=u=>{n(u)},o=(u,h,l)=>{let g=new Date(a());u==="hour"&&g.setHours(h),u==="minute"&&g.setMinutes(h),u==="second"&&g.setSeconds(h),r&&r.onSelectTime(g,e.name)};return(()=>{const u=rt(),h=u.firstChild,l=h.nextSibling,g=l.firstChild,_=g.nextSibling;return M(h,f(F,{get when(){return t()==="date"},get children(){return f(ie,e)}}),null),M(h,f(F,{get when(){return t()==="time"},get children(){return f(se,I(e,{header:"选择时间",get value(){return a()},onSelectTime:o}))}}),null),fe(g,"click",s.bind(null,"date"),!0),M(g,f(j,{name:"calendar1",size:12}),null),M(g,i,null),fe(_,"click",s.bind(null,"time"),!0),M(_,f(j,{name:"clock",size:12}),null),M(_,c,null),B(w=>{const m=t()==="date",S=t()==="time";return m!==w._v$&&g.classList.toggle("active",w._v$=m),S!==w._v$2&&_.classList.toggle("active",w._v$2=S),w},{_v$:void 0,_v$2:void 0}),u})()}O(["click"]);function at(e){const[t,n]=le(e,["value"]),r=()=>t.value&&t.value[0],a=()=>t.value&&t.value[1];return[f(ge,I({name:"start",get value(){return r()}},n)),f(ge,I({name:"end",get value(){return a()}},n))]}const it=R("<div>"),st=R('<div class="cm-date-picker-shortcuts">'),ct=R('<div class="cm-date-picker-wrap">'),Le=Te();function tn(e){const[t,n]=G(!1),r=e.type??"date",[a,i]=Fe(e,"value",r==="dateRange"||r==="dateTimeRange"?[]:""),[c,s]=G();let o=e.format??"YYYY-MM-DD";(r==="month"||r==="monthRange")&&(o=e.format??"YYYY-MM"),(r==="dateTime"||r==="dateTimeRange")&&(o=e.format??"YYYY-MM-DD HH:mm:ss");const u=new Date,h=new Date;h.setMonth(h.getMonth()+1);const[l,g]=Be({currentMonth:[u,h],range:[],hoverDate:void 0}),_=e.align??"bottomLeft",w=e.seperator||"~";K(()=>{let d=a();d&&d instanceof Array&&typeof d[0]=="function"&&(d=d[0]());let y;if(d){if(typeof d=="string")if(r==="dateRange"||r==="monthRange"||r==="dateTimeRange"){const v=d.split(w);d=[D(v[0]).toDate(),D(v[1]).toDate()];const $=new Date(d[0]);let z=new Date(d[1]);D($).format("YYYY-MM")===D(z).format("YYYY-MM")&&z.setMonth(z.getMonth()+1),y=[$,z]}else{d=D(d).toDate();const v=new Date(d);let $=new Date(d);$.setMonth($.getMonth()+1),y=[v,$]}else{let v=new Date,$=new Date;d instanceof Array&&(typeof d[0]=="string"&&(d[0]=D(d[0]).toDate()),typeof d[1]=="string"&&(d[1]=D(d[1]).toDate()),v=d[0]===void 0?new Date:d[0]?new Date(d[0]):new Date,$=d[1]===void 0?new Date:d[1]?new Date(d[1]):new Date),r==="month"&&d instanceof Date&&(v=d,$=new Date(d)),D(v).format("YYYY-MM")===D($).format("YYYY-MM")&&$.setMonth($.getMonth()+1),y=[v,$]}(r==="dateRange"||r==="dateTimeRange")&&g("range",d)}else y=[u,h];e.stick&&(y[1]=new Date(y[0]),y[1].setMonth(y[1].getMonth()+1)),y[0].setDate(1),y[1].setDate(1),g("currentMonth",y),s(d)});const m=()=>Ae(e,"cm-date-picker",{[`cm-date-picker-${e.size}`]:e.size,"cm-date-picker-disabled":e.disabled,"cm-date-picker-clearable":!e.disabled&&e.clearable&&a()&&a().length!==0}),S=()=>{i(""),r==="dateRange"&&g("range",[]),e.onChange&&e.onChange("")},H=(d,y)=>{const v=new Date(d);if((r==="month"||r==="monthRange")&&(v.setDate(1),v.setHours(0),v.setMinutes(0),v.setSeconds(0),v.setMilliseconds(0)),r==="dateTime"||r==="dateTimeRange"){let Y=c();r==="dateTimeRange"?Y=Y&&Y.length?Y[l.range.length===1?1:0]:l.currentMonth[l.range.length===1?1:0]:Y=Y||l.currentMonth[l.range.length===1?1:0],v.setHours(Y.getHours()),v.setMinutes(Y.getMinutes()),v.setSeconds(Y.getSeconds())}const $=new Date;let z=c()||(r==="monthRange"||r==="dateRange"||r==="dateTimeRange"?[$,$]:$);(r==="dateRange"||r==="dateTimeRange")&&!z.length&&(z.push($),z.push($));let N;if(y==="start"?N=[v,z[1]]:y==="end"?N=[z[0],v]:N=v,N instanceof Array&&N[0].getTime()>N[1].getTime()&&N.reverse(),r==="dateRange"||r==="dateTimeRange"){let Y=l.range,q=[];if((Y[0]&&Y[1]||!Y[0]&&!Y[1])&&(q=[v],g("hoverDate",new Date(v))),Y[0]&&!Y[1]){if(x(Y[0],v))return;if(q=[Y[0],v],q[0].getTime()>q[1].getTime()){q.reverse();const be=new Date;k(be,l.currentMonth[0]),k(l.currentMonth[0],l.currentMonth[1]),k(l.currentMonth[1],be),g("currentMonth",[...l.currentMonth])}i(q),r==="dateRange"&&n(!1)}g("range",q);return}i(N),e.onChange&&e.onChange(N),r==="date"&&n(!1)},k=(d,y)=>{d.setHours(y.getHours()),d.setMinutes(y.getMinutes()),d.setSeconds(y.getSeconds())},T=(d,y)=>{let v=c(),$;y==="start"?($=l.currentMonth[0],v&&v[0]?(k(v[0],d),v[0].getTime()>v[1].getTime()?(v.reverse(),k(l.currentMonth[0],v[0]),k(l.currentMonth[1],v[1])):k($,d),i([...v])):k($,d)):y==="end"?($=l.currentMonth[1],v&&v[1]?(k(v[1],d),v[0].getTime()>v[1].getTime()?(v.reverse(),k(l.currentMonth[0],v[0]),k(l.currentMonth[1],v[1])):k($,d),i([...v])):k($,d)):(v||(v=new Date),k(v,d),$=l.currentMonth[0],k($,d),i(new Date(v))),g("currentMonth",[...l.currentMonth])},x=(d,y)=>{if(e.maxRange){const v=d.getTime()-y.getTime();if(Math.abs(v/1e3/60/60/24)>e.maxRange-1)return!0}return!1},A=d=>{if(l.range&&l.range[0]){if(x(l.range[0],d)&&e.maxRange){const y=new Date(l.range[0]),v=d.getTime()>l.range[0].getTime()?1:-1;y.setDate(y.getDate()+(e.maxRange-1)*v),g("hoverDate",y);return}g("hoverDate",new Date(d))}},ue=Q(()=>{const d=c();return d?typeof d=="string"?d:r==="dateRange"||r==="monthRange"||r==="dateTimeRange"?d[0]?[D(d[0]).format(o),D(d[1]).format(o)].join(w):"":D(d).format(o):""});return f(Le.Provider,{get value(){return{onSelectDate:H,onMouseOver:A,disabledDate:e.disabledDate,onSelectTime:T,visible:t}},get children(){const d=it();return M(d,f(Ce,{visible:[t,n],get transfer(){return e.transfer},align:_,get revers(){return e.revers},trigger:"click",get disabled(){return e.disabled},get menu(){return(()=>{const y=ct();return M(y,f(F,{get when(){return e.shortCuts},get children(){const v=st();return M(v,(()=>{const $=Q(()=>typeof e.shortCuts=="function");return()=>$()?e.shortCuts():e.shortCuts})()),v}}),null),M(y,f(ze,{get children(){return[f(W,{when:r==="date",get children(){return f(ie,{store:[l,g],get stick(){return e.stick},type:r,get value(){return c()}})}}),f(W,{when:r==="month",get children(){return f(re,{store:[l,g],type:r,get value(){return c()}})}}),f(W,{when:r==="monthRange",get children(){return f(tt,{store:[l,g],type:r,get value(){return c()}})}}),f(W,{when:r==="dateRange",get children(){return f(nt,{store:[l,g],get stick(){return e.stick},get value(){return c()},type:r})}}),f(W,{when:r==="dateTime",get children(){return f(ge,{store:[l,g],get stick(){return e.stick},type:r,get value(){return c()},format:o})}}),f(W,{when:r==="dateTimeRange",get children(){return f(at,{store:[l,g],get stick(){return e.stick},type:r,get value(){return c()},format:o})}})]}}),null),y})()},get children(){return f(F,{get when(){return!e.trigger},get fallback(){return Q(()=>!!e.trigger)()&&e.trigger()},get children(){return f(He,{get prepend(){return e.prepend},get text(){return ue()},onClear:S,get clearable(){return e.clearable},get placeholder(){return e.placeholder},get disabled(){return e.disabled},get size(){return e.size},get icon(){return f(j,{name:"calendar1"})}})}})}})),B(y=>{const v=m(),$=e.style;return y._v$=X(d,v,y._v$),y._v$2=Z(d,$,y._v$2),y},{_v$:void 0,_v$2:void 0}),d}})}const te=()=>Ye(Le),lt=R('<div class="cm-time-picker-cell"><ul>'),ot=R("<li>");function he(e){const t=[];for(let c=0;c<e.max;)t.push(c),c+=e.step||1;const n=vt(),r=te(),a=(c,s)=>{s||(n&&n.onSelect(e.type,c,e.name),e.onSelectTime&&e.onSelectTime(e.type,c,e.name))};let i;return K(()=>{const c=n?.visible(),s=r?.visible();i&&(c||s)&&(i.scrollTop=26*(e.value/(e.step||1)))}),(()=>{const c=lt(),s=c.firstChild,o=i;return typeof o=="function"?J(o,c):i=c,M(s,f(ee,{each:t,children:u=>{const h=n&&n.disabledTime&&n.disabledTime(u,e.type),l=()=>({"cm-time-picker-item":!0,"cm-time-picker-item-active":e.value===u,"cm-time-picker-item-disabled":h});return(()=>{const g=ot();return fe(g,"click",a.bind(null,u,h),!0),M(g,u),B(_=>X(g,l(),_)),g})()}})),c})()}O(["click"]);const ut=R('<div class="cm-time-picker-header">'),ht=R('<div class="cm-time-picker-footer">'),dt=R('<div class="cm-time-picker-pane"><div class="cm-time-picker-options">');function se(e){const t=()=>e.value&&e.value.getHours&&e.value.getHours(),n=()=>e.value&&e.value.getMinutes&&e.value.getMinutes(),r=()=>e.value&&e.value.getSeconds&&e.value.getSeconds(),a=()=>e.format.indexOf("H")>-1,i=()=>e.format.indexOf("m")>-1,c=()=>e.format.indexOf("s")>-1;return(()=>{const s=dt(),o=s.firstChild;return M(s,f(F,{get when(){return e.header},get children(){const u=ut();return M(u,()=>e.header),u}}),o),M(o,f(F,{get when(){return a()},get children(){return f(he,{max:24,type:"hour",get value(){return t()},get step(){return e.hourStep},get name(){return e.name},get onSelectTime(){return e.onSelectTime}})}}),null),M(o,f(F,{get when(){return i()},get children(){return f(he,{max:60,type:"minute",get value(){return n()},get step(){return e.minuteStep},get name(){return e.name},get onSelectTime(){return e.onSelectTime}})}}),null),M(o,f(F,{get when(){return c()},get children(){return f(he,{max:60,type:"second",get value(){return r()},get step(){return e.secondStep},get name(){return e.name},get onSelectTime(){return e.onSelectTime}})}}),null),M(s,f(F,{get when(){return e.footer},get children(){const u=ht();return M(u,()=>e.footer),u}}),null),s})()}function ft(e){const[t,n]=le(e,["header","footer","value"]),r=()=>t.value[0],a=()=>t.value[1];return[f(se,I({get value(){return r()},get header(){return t.header[0]},get footer(){return t.footer&&t.footer.length&&t.footer[0]}},n,{name:"start"})),f(se,I({get value(){return a()},get header(){return t.header[1]},get footer(){return t.footer&&t.footer.length&&t.footer[1]}},n,{name:"end"}))]}const gt=R('<div tabindex="1">'),mt=R('<div class="cm-time-picker-wrap">'),Ee=Te();function nn(e){const[t,n]=Fe(e,e.type==="timeRange"?[]:""),[r,a]=G(t()),[i,c]=G(!1),s=e.align??"bottomLeft",o=e.format??"HH:mm:ss",u=e.seperator||"~",h=e.header??(e.type==="timeRange"?["开始时间","结束时间"]:void 0),l=()=>Ae(e,"cm-time-picker",{"cm-time-picker-disabled":e.disabled,[`cm-time-picker-${e.theme}`]:e.theme,[`cm-time-picker-${e.size}`]:e.size,"cm-time-picker-clearable":!e.disabled&&e.clearable&&t()!==""&&t().length!==0,"cm-time-picker-open":open});K(()=>{let m=t();if(m)if(typeof m=="string")if(e.type==="timeRange"){const S=m.split(u);m=[D(D().format("YYYY-MM-DD ")+S[0]).toDate(),D(D().format("YYYY-MM-DD ")+S[1]).toDate()]}else m=D(D().format("YYYY-MM-DD ")+m).toDate();else m instanceof Array&&m[0]&&typeof m[0]=="string"&&(m=[D(D().format("YYYY-MM-DD ")+m[0]).toDate(),D(D().format("YYYY-MM-DD ")+m[1]).toDate()]);a(m)});const g=(m,S,H)=>{const k=new Date;let T=r()||(e.type==="timeRange"?[k,k]:k);e.type==="timeRange"&&!T.length&&(T.push(k),T.push(k));let x;if(H==="start"?x=T[0]:H==="end"?x=T[1]:x=T,m==="hour"&&x.setHours(S),m==="minute"&&x.setMinutes(S),m==="second"&&x.setSeconds(S),e.type==="timeRange"){let A=[];H==="start"&&(A=[new Date(x),T[1]]),H==="end"&&(A=[T[0],new Date(x)]),A[0].getTime()>A[1].getTime()&&(A=[A[1],A[0]]),n(A),e.onChange&&e.onChange(A)}else{const A=new Date(x);n(A),e.onChange&&e.onChange(A)}},_=()=>{n(""),e.onChange&&e.onChange("")},w=()=>{const m=r();return m?typeof m=="string"?m:e.type==="timeRange"?m.length?typeof m[0]=="string"?m.join(u):[D(m[0]).format(o),D(m[1]).format(o)].join(u):"":D(m).format(o):""};return f(Ee.Provider,{get value(){return{onSelect:g,disabledTime:e.disabledTime,visible:i}},get children(){const m=gt();return Ie(m,"x-placement",s),M(m,f(Ce,{get transfer(){return e.transfer},align:s,trigger:"click",get disabled(){return e.disabled},visible:[i,c],get menu(){return(()=>{const S=mt();return M(S,f(F,{get when(){return e.type==="timeRange"},get fallback(){return f(se,{get value(){return r()},format:o,get minuteStep(){return e.minuteStep},get secondStep(){return e.secondStep},get hourStep(){return e.hourStep},header:h,get footer(){return e.footer}})},get children(){return f(ft,{get value(){return r()},format:o,get minuteStep(){return e.minuteStep},get secondStep(){return e.secondStep},get hourStep(){return e.hourStep},header:h,get footer(){return e.footer}})}})),S})()},get children(){return f(F,{get when(){return!e.trigger},get fallback(){return Q(()=>!!e.trigger)()&&e.trigger()},get children(){return f(He,{get prepend(){return e.prepend},get text(){return w()},onClear:_,get clearable(){return e.clearable},get placeholder(){return e.placeholder},get disabled(){return e.disabled},get size(){return e.size},get icon(){return f(j,{name:"clock"})}})}})}})),B(S=>X(m,l(),S)),m}})}const vt=()=>Ye(Ee);function ce(e){"@babel/helpers - typeof";return ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ce(e)}var bt=/^\s+/,_t=/\s+$/;function b(e,t){if(e=e||"",t=t||{},e instanceof b)return e;if(!(this instanceof b))return new b(e,t);var n=Mt(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}b.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,a,i,c,s;return n=t.r/255,r=t.g/255,a=t.b/255,n<=.03928?i=n/12.92:i=Math.pow((n+.055)/1.055,2.4),r<=.03928?c=r/12.92:c=Math.pow((r+.055)/1.055,2.4),a<=.03928?s=a/12.92:s=Math.pow((a+.055)/1.055,2.4),.2126*i+.7152*c+.0722*s},setAlpha:function(t){return this._a=Pe(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=$e(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=$e(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),a=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+a+"%)":"hsva("+n+", "+r+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var t=ke(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=ke(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),a=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+a+"%)":"hsla("+n+", "+r+"%, "+a+"%, "+this._roundA+")"},toHex:function(t){return we(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return wt(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(C(this._r,255)*100)+"%",g:Math.round(C(this._g,255)*100)+"%",b:Math.round(C(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(C(this._r,255)*100)+"%, "+Math.round(C(this._g,255)*100)+"%, "+Math.round(C(this._b,255)*100)+"%)":"rgba("+Math.round(C(this._r,255)*100)+"%, "+Math.round(C(this._g,255)*100)+"%, "+Math.round(C(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Et[we(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+De(this._r,this._g,this._b,this._a),r=n,a=this._gradientType?"GradientType = 1, ":"";if(t){var i=b(t);r="#"+De(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,a=this._a<1&&this._a>=0,i=!n&&a&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return i?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return b(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(Rt,arguments)},brighten:function(){return this._applyModification(Ct,arguments)},darken:function(){return this._applyModification(Tt,arguments)},desaturate:function(){return this._applyModification(Dt,arguments)},saturate:function(){return this._applyModification(xt,arguments)},greyscale:function(){return this._applyModification(St,arguments)},spin:function(){return this._applyModification(Yt,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(Ft,arguments)},complement:function(){return this._applyCombination(At,arguments)},monochromatic:function(){return this._applyCombination(Lt,arguments)},splitcomplement:function(){return this._applyCombination(Ht,arguments)},triad:function(){return this._applyCombination(xe,[3])},tetrad:function(){return this._applyCombination(xe,[4])}};b.fromRatio=function(e,t){if(ce(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=p(e[r]));e=n}return b(e,t)};function Mt(e){var t={r:0,g:0,b:0},n=1,r=null,a=null,i=null,c=!1,s=!1;return typeof e=="string"&&(e=zt(e)),ce(e)=="object"&&(V(e.r)&&V(e.g)&&V(e.b)?(t=yt(e.r,e.g,e.b),c=!0,s=String(e.r).substr(-1)==="%"?"prgb":"rgb"):V(e.h)&&V(e.s)&&V(e.v)?(r=p(e.s),a=p(e.v),t=$t(e.h,r,a),c=!0,s="hsv"):V(e.h)&&V(e.s)&&V(e.l)&&(r=p(e.s),i=p(e.l),t=kt(e.h,r,i),c=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=Pe(n),{ok:c,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function yt(e,t,n){return{r:C(e,255)*255,g:C(t,255)*255,b:C(n,255)*255}}function ke(e,t,n){e=C(e,255),t=C(t,255),n=C(n,255);var r=Math.max(e,t,n),a=Math.min(e,t,n),i,c,s=(r+a)/2;if(r==a)i=c=0;else{var o=r-a;switch(c=s>.5?o/(2-r-a):o/(r+a),r){case e:i=(t-n)/o+(t<n?6:0);break;case t:i=(n-e)/o+2;break;case n:i=(e-t)/o+4;break}i/=6}return{h:i,s:c,l:s}}function kt(e,t,n){var r,a,i;e=C(e,360),t=C(t,100),n=C(n,100);function c(u,h,l){return l<0&&(l+=1),l>1&&(l-=1),l<1/6?u+(h-u)*6*l:l<1/2?h:l<2/3?u+(h-u)*(2/3-l)*6:u}if(t===0)r=a=i=n;else{var s=n<.5?n*(1+t):n+t-n*t,o=2*n-s;r=c(o,s,e+1/3),a=c(o,s,e),i=c(o,s,e-1/3)}return{r:r*255,g:a*255,b:i*255}}function $e(e,t,n){e=C(e,255),t=C(t,255),n=C(n,255);var r=Math.max(e,t,n),a=Math.min(e,t,n),i,c,s=r,o=r-a;if(c=r===0?0:o/r,r==a)i=0;else{switch(r){case e:i=(t-n)/o+(t<n?6:0);break;case t:i=(n-e)/o+2;break;case n:i=(e-t)/o+4;break}i/=6}return{h:i,s:c,v:s}}function $t(e,t,n){e=C(e,360)*6,t=C(t,100),n=C(n,100);var r=Math.floor(e),a=e-r,i=n*(1-t),c=n*(1-a*t),s=n*(1-(1-a)*t),o=r%6,u=[n,c,i,i,s,n][o],h=[s,n,n,c,i,i][o],l=[i,i,s,n,n,c][o];return{r:u*255,g:h*255,b:l*255}}function we(e,t,n,r){var a=[P(Math.round(e).toString(16)),P(Math.round(t).toString(16)),P(Math.round(n).toString(16))];return r&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function wt(e,t,n,r,a){var i=[P(Math.round(e).toString(16)),P(Math.round(t).toString(16)),P(Math.round(n).toString(16)),P(Oe(r))];return a&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function De(e,t,n,r){var a=[P(Oe(r)),P(Math.round(e).toString(16)),P(Math.round(t).toString(16)),P(Math.round(n).toString(16))];return a.join("")}b.equals=function(e,t){return!e||!t?!1:b(e).toRgbString()==b(t).toRgbString()};b.random=function(){return b.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Dt(e,t){t=t===0?0:t||10;var n=b(e).toHsl();return n.s-=t/100,n.s=oe(n.s),b(n)}function xt(e,t){t=t===0?0:t||10;var n=b(e).toHsl();return n.s+=t/100,n.s=oe(n.s),b(n)}function St(e){return b(e).desaturate(100)}function Rt(e,t){t=t===0?0:t||10;var n=b(e).toHsl();return n.l+=t/100,n.l=oe(n.l),b(n)}function Ct(e,t){t=t===0?0:t||10;var n=b(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),b(n)}function Tt(e,t){t=t===0?0:t||10;var n=b(e).toHsl();return n.l-=t/100,n.l=oe(n.l),b(n)}function Yt(e,t){var n=b(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,b(n)}function At(e){var t=b(e).toHsl();return t.h=(t.h+180)%360,b(t)}function xe(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=b(e).toHsl(),r=[b(e)],a=360/t,i=1;i<t;i++)r.push(b({h:(n.h+i*a)%360,s:n.s,l:n.l}));return r}function Ht(e){var t=b(e).toHsl(),n=t.h;return[b(e),b({h:(n+72)%360,s:t.s,l:t.l}),b({h:(n+216)%360,s:t.s,l:t.l})]}function Ft(e,t,n){t=t||6,n=n||30;var r=b(e).toHsl(),a=360/n,i=[b(e)];for(r.h=(r.h-(a*t>>1)+720)%360;--t;)r.h=(r.h+a)%360,i.push(b(r));return i}function Lt(e,t){t=t||6;for(var n=b(e).toHsv(),r=n.h,a=n.s,i=n.v,c=[],s=1/t;t--;)c.push(b({h:r,s:a,v:i})),i=(i+s)%1;return c}b.mix=function(e,t,n){n=n===0?0:n||50;var r=b(e).toRgb(),a=b(t).toRgb(),i=n/100,c={r:(a.r-r.r)*i+r.r,g:(a.g-r.g)*i+r.g,b:(a.b-r.b)*i+r.b,a:(a.a-r.a)*i+r.a};return b(c)};b.readability=function(e,t){var n=b(e),r=b(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};b.isReadable=function(e,t,n){var r=b.readability(e,t),a,i;switch(i=!1,a=It(n),a.level+a.size){case"AAsmall":case"AAAlarge":i=r>=4.5;break;case"AAlarge":i=r>=3;break;case"AAAsmall":i=r>=7;break}return i};b.mostReadable=function(e,t,n){var r=null,a=0,i,c,s,o;n=n||{},c=n.includeFallbackColors,s=n.level,o=n.size;for(var u=0;u<t.length;u++)i=b.readability(e,t[u]),i>a&&(a=i,r=b(t[u]));return b.isReadable(e,r,{level:s,size:o})||!c?r:(n.includeFallbackColors=!1,b.mostReadable(e,["#fff","#000"],n))};var me=b.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Et=b.hexNames=Pt(me);function Pt(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Pe(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function C(e,t){Ot(e)&&(e="100%");var n=Bt(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function oe(e){return Math.min(1,Math.max(0,e))}function L(e){return parseInt(e,16)}function Ot(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function Bt(e){return typeof e=="string"&&e.indexOf("%")!=-1}function P(e){return e.length==1?"0"+e:""+e}function p(e){return e<=1&&(e=e*100+"%"),e}function Oe(e){return Math.round(parseFloat(e)*255).toString(16)}function Se(e){return L(e)/255}var E=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",a="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+a),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+a),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+a),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function V(e){return!!E.CSS_UNIT.exec(e)}function zt(e){e=e.replace(bt,"").replace(_t,"").toLowerCase();var t=!1;if(me[e])e=me[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=E.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=E.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=E.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=E.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=E.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=E.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=E.hex8.exec(e))?{r:L(n[1]),g:L(n[2]),b:L(n[3]),a:Se(n[4]),format:t?"name":"hex8"}:(n=E.hex6.exec(e))?{r:L(n[1]),g:L(n[2]),b:L(n[3]),format:t?"name":"hex"}:(n=E.hex4.exec(e))?{r:L(n[1]+""+n[1]),g:L(n[2]+""+n[2]),b:L(n[3]+""+n[3]),a:Se(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=E.hex3.exec(e))?{r:L(n[1]+""+n[1]),g:L(n[2]+""+n[2]),b:L(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function It(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}function U(e,t,n){return e<t?t:e>n?n:e}function de(e,t){const n=b(e),{_a:r}=n;return r==null&&n.setAlpha(t||1),n}function Nt(e,t){const n=t&&t.a;if(t){if(t.hsl)return de(t.hsl,n);if(t.hex&&t.hex.length>0)return de(t.hex,n)}return de(t,n)}function rn(e,t){const n=e===""?"#2d8cf0":e,r=Nt(e,n),a=r.toHsl(),i=r.toHsv();return a.s===0&&(a.h=n.h||n.hsl&&n.hsl.h||t||0,i.h=a.h),i.v<.0164&&(i.h=n.h||n.hsv&&n.hsv.h||0,i.s=n.s||n.hsv&&n.hsv.s||0),a.l<.01&&(a.h=n.h||n.hsl&&n.hsl.h||0,a.s=n.s||n.hsl&&n.hsl.s||0),{hsl:a,hex:r.toHexString().toUpperCase(),rgba:r.toRgb(),hsv:i,oldHue:n.h||t||a.h,source:n.source,a:n.a||r.getAlpha()}}function Re(e){const{r:t,g:n,b:r,a}=e;return`rgba(${[t,n,r,a].join(",")})`}const Vt=R('<div class="cm-saturation"><div class="cm-saturation-white"></div><div class="cm-saturation-black"></div><div class="cm-saturation-pointer"><div class="cm-saturation-circle">');function an(e){let t;const n=s=>{if(typeof s.button=="number"&&s.button!==0)return!1;a(s),document.addEventListener("mousemove",a,!1),document.addEventListener("mouseup",r,!1)},r=s=>{a(s),document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",r)};ve(()=>{document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",r)});const a=s=>{s.preventDefault(),s.stopPropagation();const{clientWidth:o,clientHeight:u}=t,h=t.getBoundingClientRect().left+window.screenX,l=t.getBoundingClientRect().top+window.screenY,g=U(s.clientX-h,0,o),_=U(s.clientY-l,0,u),w=g/o,m=U(1-_/u,0,1);e.onChange&&e.onChange({h:e.value.hsv.h,s:w,v:m,a:e.value.hsv.a,source:"hsva"})},i=()=>({background:`hsl(${e.value.hsv.h}, 100%, 50%)`}),c=()=>({top:`${-(e.value.hsv.v*100)+1+100}%`,left:`${e.value.hsv.s*100}%`});return(()=>{const s=Vt(),o=s.firstChild,u=o.nextSibling,h=u.nextSibling,l=t;return typeof l=="function"?J(l,s):t=s,s.$$mousedown=n,B(g=>{const _=i(),w=c();return g._v$=Z(s,_,g._v$),g._v$2=Z(h,w,g._v$2),g},{_v$:void 0,_v$2:void 0}),s})()}O(["mousedown"]);const jt=R('<div class="cm-color-picker-hue"><div class="cm-color-picker-hue-wrap"><div class="cm-color-picker-hue-pointer">');function sn(e){const[t,n]=G(U(e.value.hsl.h*100/360,0,100));let r;const a=o=>{if(typeof o.button=="number"&&o.button!==0)return!1;c(o),document.addEventListener("mousemove",c,!1),document.addEventListener("mouseup",i,!1)},i=o=>{c(o),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",i)};ve(()=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",i)});const c=o=>{o.preventDefault(),o.stopPropagation();const{clientWidth:u}=r,h=r.getBoundingClientRect().left+window.screenX,l=o.clientX-h;if(l<0){s(0);return}if(l>u){s(100);return}s(l*100/u)},s=o=>{n(U(o,0,100));const{h:u,s:h,l,a:g}=e.value.hsl,_=U(o/100*360,0,360);u!==_&&e.onChange&&e.onChange({h:_,s:h,l,a:g,source:"hsl"})};return K(()=>{n(U(e.value.hsl.h*100/360,0,100))}),(()=>{const o=jt(),u=o.firstChild,h=u.firstChild,l=r;return typeof l=="function"?J(l,o):r=o,u.$$mousedown=a,h.style.setProperty("top","0"),B(()=>`${t()}%`!=null?h.style.setProperty("left",`${t()}%`):h.style.removeProperty("left")),o})()}O(["mousedown"]);const Gt=R('<div class="cm-color-picker-alpha"><div class="cm-color-picker-alpha-wrap"><div class="cm-color-picker-alpha-picker">');function cn(e){const[t,n]=G(e.value.hsl.a*100),r=()=>{const{r:u,g:h,b:l}=e.value.rgba,g=Re({r:u,g:h,b:l,a:0}),_=Re({r:u,g:h,b:l,a:1});return{background:`linear-gradient(to right, ${g} 0%, ${_} 100%)`}};let a;const i=u=>{if(typeof u.button=="number"&&u.button!==0)return!1;s(u),document.addEventListener("mousemove",s,!1),document.addEventListener("mouseup",c,!1)},c=u=>{s(u),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",c)};ve(()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",c)});const s=u=>{u.preventDefault(),u.stopPropagation();const{clientWidth:h}=a,l=a.getBoundingClientRect().left+window.screenX,g=u.clientX-l;if(g<0){o(0);return}if(g>h){o(1);return}o(Math.round(g*100/h)/100)},o=u=>{n(u*100);const{h,s:l,l:g,a:_}=e.value.hsl;_!==u&&e.onChange&&e.onChange({h,s:l,l:g,a:u,source:"rgba"})};return K(()=>{n(e.value.hsl.a*100)}),(()=>{const u=Gt(),h=u.firstChild,l=h.firstChild,g=a;return typeof g=="function"?J(g,u):a=u,h.$$mousedown=i,l.style.setProperty("top","0px"),B(_=>{const w=r(),m=`${t()}%`;return _._v$=Z(h,w,_._v$),m!==_._v$2&&((_._v$2=m)!=null?l.style.setProperty("left",m):l.style.removeProperty("left")),_},{_v$:void 0,_v$2:void 0}),u})()}O(["mousedown"]);const qt=R('<div class="cm-color-picker-recommend"><div class="cm-color-picker-recommend-container">'),Ut=R('<div class="cm-color-picker-recommend-color"><div>'),Xt=R("<br>");function ln(e){const t=e.colors??["#2d8cf0","#19be6b","#ff9900","#ed4014","#00b5ff","#19c919","#f9e31c","#ea1a1a","#9b1dea","#00c2b1","#ac7a33","#1d35ea","#8bc34a","#f16b62","#ea4ca3","#0d94aa","#febd79","#5d4037","#00bcd4","#f06292","#cddc39","#607d8b","#000000","#ffffff"],n=r=>{e.onChange&&e.onChange({hex:r,source:"hex"})};return(()=>{const r=qt(),a=r.firstChild;return M(a,f(ee,{each:t,children:(i,c)=>[(()=>{const s=Ut(),o=s.firstChild;return s.$$click=()=>n(i),i!=null?o.style.setProperty("background",i):o.style.removeProperty("background"),s})(),f(F,{get when(){return(c()+1)%12===0},get children(){return Xt()}})]})),r})()}O(["click"]);export{cn as A,tn as D,en as E,sn as H,pt as O,ln as R,an as S,nn as T,rn as c,Re as t};
