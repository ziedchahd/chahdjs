import{c as F,J as x,v as $,i as o,a as e,f as h,g as b,t as d,h as E,s as I,j as T,u as H,S as i,T as A}from"./index-00bf0c33.js";import{T as p,C as S}from"./index-345cd19e.js";import{d as P}from"./dayjs.min-ea173184.js";import{D as j,a as z,C as L}from"./code-6666454f.js";import{T as B}from"./index-0092c168.js";import{P as O}from"./index-e4583d54.js";import{p as J}from"./columns-26981c48.js";import{h as M}from"./hljs-74a5c6d1.js";import"./_commonjsHelpers-725317a4.js";const N=d('<span class="cm-count-down-prefix">'),R=d('<span class="cm-count-down-suffix">'),Z=d('<span><span class="cm-count-down-value">');function l(t){return`${t}`.padStart(2,"0")}function g(t){let s;const[v,w]=F(new Date().getTime()),y=()=>{let a=t.value;(typeof a=="string"||a instanceof Date)&&(a=P(a).toDate().getTime());let r=a-v();r<=0&&(s&&(clearInterval(s),s=null),t.onEnd&&t.onEnd(),r=0);const n=l(parseInt(r/(1e3*60*60*24)+"",10)),m=l(parseInt(r/(1e3*60*60)+"",10)%24),f=l(parseInt(r/(1e3*60)+"",10)%60),_=l(parseInt(r/1e3+"",10)%60),c=t.format??"HH:mm:ss";let u=c;return c.match(/D+/)&&(u=u.replace(/D+/,n+"")),c.match(/H+/)&&(u=u.replace(/H+/,m+"")),c.match(/m+/)&&(u=u.replace(/m+/,f+"")),c.match(/s+/)&&(u=u.replace(/s+/,_+"")),u},C=()=>{s=setInterval(()=>{w(new Date().getTime())},1e3)};x(()=>{C()}),$(()=>{clearInterval(s),s=null});const D=()=>T(t,"cm-count-down");return(()=>{const a=Z(),r=a.firstChild;return o(a,e(h,{get when(){return t.prefix},get children(){const n=N();return o(n,()=>t.prefix),n}}),r),o(r,y),o(a,e(h,{get when(){return t.suffix},get children(){const n=R();return o(n,()=>t.suffix),n}}),null),b(n=>{const m=D(),f=t.style;return n._v$=E(a,m,n._v$),n._v$2=I(a,f,n._v$2),n},{_v$:void 0,_v$2:void 0}),a})()}const k=`const start = Date.now() + 3900000;
<Space dir="h" size={100}>
    <CountDown value={start} />
    <CountDown value={start} format="HH时mm分ss秒" prefix='剩余时间：'/>
</Space>`,q=[{name:"style",desc:"自定义样式",type:"Object",default:""},{name:"classList",desc:"自定义Class",type:"Object",default:""},{name:"class",desc:"自定义Class",type:"string",default:""},{name:"value",desc:"目标值",type:"number",default:""},{name:"prefix",desc:"前缀",type:"string",default:""},{name:"suffix",desc:"后缀",type:"string",default:""},{name:"format",desc:"格式化",type:"string",default:""},{name:"onEnd",desc:"结束回调",type:"Function",default:""}],G=[{id:"countdown_base",text:"基础用法"},{id:"comp_api",text:"API"},{id:"comp_props",text:"属性"}],K={countdown_base:k},Q=d('<div class="sys-ctx-main-left">');function se(){const t=Date.now()+39e5;return[(()=>{const s=Q();return H(M,s,()=>""),o(s,e(i,{dir:"v",size:32,get children(){return[e(p,{heading:2,children:"CountDown 倒计时"}),e(i,{id:"countdown_base",dir:"v",get children(){return e(S,{bordered:!0,get children(){return[e(i,{dir:"h",size:100,get children(){return[e(g,{value:t}),e(g,{value:t,format:"HH时mm分ss秒",prefix:"剩余时间："})]}}),e(j,{align:"left",get children(){return e(A,{type:"primary",children:"基础用法"})}}),e(O,{type:"secondary",spacing:"extended",children:"简单的倒计时组件使用, format可以格式化时间格式。"}),e(z,{get data(){return K.countdown_base}})]}})}}),e(i,{dir:"v",size:24,id:"comp_api",get children(){return[e(p,{type:"primary",heading:3,children:"API"}),e(i,{id:"comp_props",dir:"v",get children(){return[e(p,{type:"primary",heading:4,children:"CountDown Props"}),e(B,{columns:J,data:q,border:!0,size:"small"})]}})]}})]}})),s})(),e(L,{data:G})]}export{se as default};
