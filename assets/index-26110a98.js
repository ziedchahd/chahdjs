import{c as E,i as u,a as f,F as L,g as M,t as R,s as S,h as k,j as w}from"./index-00bf0c33.js";import{R as y}from"./Item-a37b8cba.js";import{c as F}from"./createField-b596c149.js";const b=R("<div><span>");function j(t){const d=()=>w(t,"cm-rate",{"cm-rate-disabled":t.disabled});if(!t.icon)return console.warn("need icon property"),null;const[c,l]=F(t,0),[m,o]=E(c()),r=t.allowHalf||!1,v=e=>{o(e)},C=(e,n)=>{r&&(n.preventDefault(),n.stopPropagation(),o(e))},g=()=>{o(c())},h=e=>{l(e),t.onChange&&t.onChange(e)},$=(e,n)=>{n.preventDefault(),n.stopPropagation(),r&&(l(e),t.onChange&&t.onChange(e))},H=t.count||5,i=[];for(let e=0;e<H;e++)i.push({id:e,value:e});return(()=>{const e=b(),n=e.firstChild;return e.addEventListener("mouseleave",g),u(e,f(L,{each:i,children:(a,s)=>f(y,{get index(){return s()},onMouseEnterHalf:C,onClickHalfStar:$,onMouseEnter:v,onClickStar:h,get icon(){return t.icon},allowHalf:r,current:[m,o]})}),n),u(n,()=>t.children),M(a=>{const s=t.style,_=d();return a._v$=S(e,s,a._v$),a._v$2=k(e,_,a._v$2),a},{_v$:void 0,_v$2:void 0}),e})()}export{j as R};
