import{c as v,b as g,i as h,a as b,g as k,h as m,s as x,t as C,j as _}from"./index-00bf0c33.js";import{I as $}from"./index-e4583d54.js";import{c as F}from"./createField-b596c149.js";const y=C("<div>");function S(t){const r=()=>_(t,"cm-checkbox-group",{"cm-checkbox-group-stack":t.block}),[i,o]=F(t,[]),u=(n,e)=>{if(t.disabled)return;let a=i()||[];if(n)a.includes(e)||(a=a.concat(e));else{const d=a.indexOf(e);d>-1&&a.splice(d,1)}const l=JSON.parse(JSON.stringify(a));o(l),t.onChange&&t.onChange(l)},f=t.textField||"label",c=t.valueField||"value",s={};return t.data&&t.data.forEach(n=>{const a=(i()||[]).includes(n[c]);s[n[c]]=v(a)}),g(()=>{const n=i()??[];for(let e=0;e<t.data.length;e++){const a=t.data[e],l=n.includes(a[c]);s[a[c]]&&s[a[c]][1](l)}}),(()=>{const n=y();return h(n,()=>t.data.map(e=>b($,{inner:!0,get disabled(){return t.disabled||e.disabled},get value(){return e[c]},get checked(){return s[e[c]][0]()},get label(){return e[f]},onChange:u}))),k(e=>{const a=r(),l=t.style;return e._v$=m(n,a,e._v$),e._v$2=x(n,l,e._v$2),e},{_v$:void 0,_v$2:void 0}),n})()}export{S as C};
